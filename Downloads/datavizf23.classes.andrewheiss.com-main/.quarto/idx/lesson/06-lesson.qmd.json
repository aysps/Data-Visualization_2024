{"title":"Uncertainty","markdown":{"yaml":{"title":"Uncertainty","date":"2023-09-25","date_end":"2023-09-29"},"headingText":"Histograms","containsRefs":false,"markdown":"\n\n```{r setup, include=FALSE}\nlibrary(tidyverse)\nknitr::opts_chunk$set(fig.width = 6, fig.height = 4.5, fig.align = \"center\", collapse = TRUE)\nset.seed(1234)\n```\n\n```{r learnr-setup, echo=FALSE, results=\"asis\"}\nsource(here::here(\"R\", \"learnr-things.R\"))\ninclude_iframe_resizer()\n```\n\nThroughout this lesson, you'll use the built-in `mpg` dataset to make histograms, density plots, box plots, violin plots, and other graphics that show uncertainty. \n\nSorry if `mpg` is getting repetitive! For short interactive things like this, it's easier to use built-in and easy-to-load datasets like `mpg` and `gapminder` instead of loading CSV files, hence our constant reuse of the dataset. This is fairly normal too—the majority of examples in R help pages (and in peoples' blog posts) use things like `mpg` or `gapminder`, or even `iris`, which measures the lengths and widths of a bunch of iris flowers in the 1930s (fun fact! I don't like using `iris` because the data was originally used in an article in the *Annals of Eugenics* (`r emoji::emoji(\"grimacing\")`) in 1936, and the data was collected to advance eugenics, and [there's no good reason to use data like that in 2023](https://armchairecology.blog/iris-dataset/).) \n\nSo we work with cars instead of racist flower data.\n\nThe `mpg` dataset is available in R as soon as you load ggplot2 (or tidyverse). Yu don't have to run `read_csv()` or anything—it's just there in the background already.\n\nAs a reminder, here are the first few rows of the `mpg` dataset:\n\n```{r head-mpg}\nhead(mpg)\n```\n\n\n\nWhen working with histograms, you *always* need to think about the bin width. Histograms calculate the counts of rows within specific ranges of data, and the shape of the histogram will change depending on how wide or narrow these ranges (or bins, or buckets) are.\n\n::: {.callout-important}\n### Your turn\n\nChange this code to add a specific bin width for city miles per gallon `cty` (hint: `binwidth`). Play around with different widths until you find one that represents the data well.\n\n:::\n\n```{r echo=FALSE, results=\"asis\"}\nembedded_learnr(\n  url = \"https://andrewheiss.shinyapps.io/datavizm20_06-uncertainty-1/\",\n  id = \"learnr-06-lesson-uncertainty1\"\n)\n```\n\nBy default, histograms are filled with a dark grey color and the bars have no borders. Additionally, R places the center of the bars at specific numbers: if you have a bin width of 5, for instance, a bar will show the range from 7.5 to 12.5 instead of 5-10 or 10-15.\n\n::: {.callout-important}\n### Your turn\n\nDo the following:\n\n1. Add a specific bin width\n2. Add a white border (hint: `color`)\n3. Fill with <span style=\"color: #E16462\">#E16462</span>\n4. Make it so the bars start at whole numbers like 10 or 20 (hint: `boundary`)\n\n:::\n\n```{r echo=FALSE, results=\"asis\"}\nembedded_learnr(\n  url = \"https://andrewheiss.shinyapps.io/datavizm20_06-uncertainty-2/\",\n  id = \"learnr-06-lesson-uncertainty2\"\n)\n```\n\nYou can add extra aesthetics to encode additional information about the distribution of variables across categories. \n\n::: {.callout-important}\n### Your turn\n\nMake a histogram of `cty` and fill by `drv` (drive: front, rear, and 4-wheel). Make sure you specify a good bin width.\n\n:::\n\n```{r echo=FALSE, results=\"asis\"}\nembedded_learnr(\n  url = \"https://andrewheiss.shinyapps.io/datavizm20_06-uncertainty-3/\",\n  id = \"learnr-06-lesson-uncertainty3\"\n)\n```\n\nThat's too much information! Instead of only filling, you can separate the data into multiple plots.\n\n::: {.callout-important}\n### Your turn\n\nMake a histogram of `cty` fill *and* facet by `drv`. Make sure you specify a good bin width. Make sure you specify a good bin width.\n\n:::\n\n```{r echo=FALSE, results=\"asis\"}\nembedded_learnr(\n  url = \"https://andrewheiss.shinyapps.io/datavizm20_06-uncertainty-4/\",\n  id = \"learnr-06-lesson-uncertainty4\"\n)\n```\n\n## Density plots\n\nWhen working with density plots *in this class* you don't need to worry too much about the calculus behind the scenes that creates the curves. But you can change those settings if you really want.\n\n::: {.callout-important}\n### Your turn\n\nDo the following:\n\n1. Fill this density plot with <span style=\"color: #E16462\">#E16462</span>\n2. Add a border (hint: `color`) using <span style=\"color: #9C3836\">#9C3836</span>, with linewidth = 1\n3. Change the bandwidth (hint: `bw`) to 0.5, then 1, then 10\n\n:::\n\n```{r echo=FALSE, results=\"asis\"}\nembedded_learnr(\n  url = \"https://andrewheiss.shinyapps.io/datavizm20_06-uncertainty-5/\",\n  id = \"learnr-06-lesson-uncertainty5\"\n)\n```\n\nLike histograms, you can map other variables onto the plot. It's often a good idea to make the curves semi-transparent so you can see the different distributions.\n\n::: {.callout-important}\n### Your turn\n\nDo the following:\n\n1. Fill this plot using the `drv` variable\n2. Make the density plots 50% transparent\n\n:::\n\n```{r echo=FALSE, results=\"asis\"}\nembedded_learnr(\n  url = \"https://andrewheiss.shinyapps.io/datavizm20_06-uncertainty-6/\",\n  id = \"learnr-06-lesson-uncertainty6\"\n)\n```\n\nEven with transparency, it's often difficult to interpret density plots like this. As an alternative, you can use the [{ggridges} package](https://cran.r-project.org/web/packages/ggridges/vignettes/introduction.html) to make ridge plots. Look at the [documentation and examples for {ggridges}](https://cran.r-project.org/web/packages/ggridges/vignettes/introduction.html) for lots of details about different plots you can make.\n\n::: {.callout-important}\n### Your turn\n\nConvert this plot into a ridge plot.\n\n:::\n\n```{r echo=FALSE, results=\"asis\"}\nembedded_learnr(\n  url = \"https://andrewheiss.shinyapps.io/datavizm20_06-uncertainty-7/\",\n  id = \"learnr-06-lesson-uncertainty7\"\n)\n```\n\n## Boxes, violins, and dots\n\nFinally, you can use things like boxplots and violin plots to show the distribution of variables, either by themselves or across categories.\n\nBox plots show the distribution of a variable by highlighting specific details, like the 25th, 50th (median) and 75th percentile, as well as the assumed minimum, assumed maximum, and outliers:\n\n![Anatomy of a boxplot](/slides/06-slides_files/figure-html/boxplot-explanation-1.png)\n\nWhen making boxplots with ggplot, you need to map the variable of interest to the `x` aesthetic (or `y` if you want a vertical boxplot), and you can optionally map a second categorical variable to the `y` aesthetic (or `x` if you want a vertical boxplot).\n\nYou can adjust the fill and color of the plot, and you can change what counts as outliers with the `coef` argument. By default outliers are any point that is beyond the 75th percentile + 1.5 × the interquartile range (or below the 25th percentile + 1.5 × IQR), but that's adjustable.\n\n::: {.callout-important}\n### Your turn\n\nDo the following:\n\n1. Fill the boxplot with <span style=\"color: #E6AD3C\">#E6AD3C</span>\n2. Color the boxplot with <span style=\"color: #5ABD51\">#5ABD51</span>\n3. Change the definition of outliers to be 5 times the IQR\n\n:::\n\n```{r echo=FALSE, results=\"asis\"}\nembedded_learnr(\n  url = \"https://andrewheiss.shinyapps.io/datavizm20_06-uncertainty-8/\",\n  id = \"learnr-06-lesson-uncertainty8\"\n)\n```\n\nYou can also use violin plots instead of boxplot, which show the mirrored density distribution. When doing this, it's often helpful to add other geoms like jittered points to show more of the data\n\n::: {.callout-important}\n### Your turn\n\nDo the following\n\n1. Change this boxplot to use violins instead\n2. Add jittered points with a jittering width of 0.1 and sized at 0.5\n\n:::\n\n```{r echo=FALSE, results=\"asis\"}\nembedded_learnr(\n  url = \"https://andrewheiss.shinyapps.io/datavizm20_06-uncertainty-9/\",\n  id = \"learnr-06-lesson-uncertainty9\"\n)\n```\n","srcMarkdownNoYaml":"\n\n```{r setup, include=FALSE}\nlibrary(tidyverse)\nknitr::opts_chunk$set(fig.width = 6, fig.height = 4.5, fig.align = \"center\", collapse = TRUE)\nset.seed(1234)\n```\n\n```{r learnr-setup, echo=FALSE, results=\"asis\"}\nsource(here::here(\"R\", \"learnr-things.R\"))\ninclude_iframe_resizer()\n```\n\nThroughout this lesson, you'll use the built-in `mpg` dataset to make histograms, density plots, box plots, violin plots, and other graphics that show uncertainty. \n\nSorry if `mpg` is getting repetitive! For short interactive things like this, it's easier to use built-in and easy-to-load datasets like `mpg` and `gapminder` instead of loading CSV files, hence our constant reuse of the dataset. This is fairly normal too—the majority of examples in R help pages (and in peoples' blog posts) use things like `mpg` or `gapminder`, or even `iris`, which measures the lengths and widths of a bunch of iris flowers in the 1930s (fun fact! I don't like using `iris` because the data was originally used in an article in the *Annals of Eugenics* (`r emoji::emoji(\"grimacing\")`) in 1936, and the data was collected to advance eugenics, and [there's no good reason to use data like that in 2023](https://armchairecology.blog/iris-dataset/).) \n\nSo we work with cars instead of racist flower data.\n\nThe `mpg` dataset is available in R as soon as you load ggplot2 (or tidyverse). Yu don't have to run `read_csv()` or anything—it's just there in the background already.\n\nAs a reminder, here are the first few rows of the `mpg` dataset:\n\n```{r head-mpg}\nhead(mpg)\n```\n\n\n## Histograms\n\nWhen working with histograms, you *always* need to think about the bin width. Histograms calculate the counts of rows within specific ranges of data, and the shape of the histogram will change depending on how wide or narrow these ranges (or bins, or buckets) are.\n\n::: {.callout-important}\n### Your turn\n\nChange this code to add a specific bin width for city miles per gallon `cty` (hint: `binwidth`). Play around with different widths until you find one that represents the data well.\n\n:::\n\n```{r echo=FALSE, results=\"asis\"}\nembedded_learnr(\n  url = \"https://andrewheiss.shinyapps.io/datavizm20_06-uncertainty-1/\",\n  id = \"learnr-06-lesson-uncertainty1\"\n)\n```\n\nBy default, histograms are filled with a dark grey color and the bars have no borders. Additionally, R places the center of the bars at specific numbers: if you have a bin width of 5, for instance, a bar will show the range from 7.5 to 12.5 instead of 5-10 or 10-15.\n\n::: {.callout-important}\n### Your turn\n\nDo the following:\n\n1. Add a specific bin width\n2. Add a white border (hint: `color`)\n3. Fill with <span style=\"color: #E16462\">#E16462</span>\n4. Make it so the bars start at whole numbers like 10 or 20 (hint: `boundary`)\n\n:::\n\n```{r echo=FALSE, results=\"asis\"}\nembedded_learnr(\n  url = \"https://andrewheiss.shinyapps.io/datavizm20_06-uncertainty-2/\",\n  id = \"learnr-06-lesson-uncertainty2\"\n)\n```\n\nYou can add extra aesthetics to encode additional information about the distribution of variables across categories. \n\n::: {.callout-important}\n### Your turn\n\nMake a histogram of `cty` and fill by `drv` (drive: front, rear, and 4-wheel). Make sure you specify a good bin width.\n\n:::\n\n```{r echo=FALSE, results=\"asis\"}\nembedded_learnr(\n  url = \"https://andrewheiss.shinyapps.io/datavizm20_06-uncertainty-3/\",\n  id = \"learnr-06-lesson-uncertainty3\"\n)\n```\n\nThat's too much information! Instead of only filling, you can separate the data into multiple plots.\n\n::: {.callout-important}\n### Your turn\n\nMake a histogram of `cty` fill *and* facet by `drv`. Make sure you specify a good bin width. Make sure you specify a good bin width.\n\n:::\n\n```{r echo=FALSE, results=\"asis\"}\nembedded_learnr(\n  url = \"https://andrewheiss.shinyapps.io/datavizm20_06-uncertainty-4/\",\n  id = \"learnr-06-lesson-uncertainty4\"\n)\n```\n\n## Density plots\n\nWhen working with density plots *in this class* you don't need to worry too much about the calculus behind the scenes that creates the curves. But you can change those settings if you really want.\n\n::: {.callout-important}\n### Your turn\n\nDo the following:\n\n1. Fill this density plot with <span style=\"color: #E16462\">#E16462</span>\n2. Add a border (hint: `color`) using <span style=\"color: #9C3836\">#9C3836</span>, with linewidth = 1\n3. Change the bandwidth (hint: `bw`) to 0.5, then 1, then 10\n\n:::\n\n```{r echo=FALSE, results=\"asis\"}\nembedded_learnr(\n  url = \"https://andrewheiss.shinyapps.io/datavizm20_06-uncertainty-5/\",\n  id = \"learnr-06-lesson-uncertainty5\"\n)\n```\n\nLike histograms, you can map other variables onto the plot. It's often a good idea to make the curves semi-transparent so you can see the different distributions.\n\n::: {.callout-important}\n### Your turn\n\nDo the following:\n\n1. Fill this plot using the `drv` variable\n2. Make the density plots 50% transparent\n\n:::\n\n```{r echo=FALSE, results=\"asis\"}\nembedded_learnr(\n  url = \"https://andrewheiss.shinyapps.io/datavizm20_06-uncertainty-6/\",\n  id = \"learnr-06-lesson-uncertainty6\"\n)\n```\n\nEven with transparency, it's often difficult to interpret density plots like this. As an alternative, you can use the [{ggridges} package](https://cran.r-project.org/web/packages/ggridges/vignettes/introduction.html) to make ridge plots. Look at the [documentation and examples for {ggridges}](https://cran.r-project.org/web/packages/ggridges/vignettes/introduction.html) for lots of details about different plots you can make.\n\n::: {.callout-important}\n### Your turn\n\nConvert this plot into a ridge plot.\n\n:::\n\n```{r echo=FALSE, results=\"asis\"}\nembedded_learnr(\n  url = \"https://andrewheiss.shinyapps.io/datavizm20_06-uncertainty-7/\",\n  id = \"learnr-06-lesson-uncertainty7\"\n)\n```\n\n## Boxes, violins, and dots\n\nFinally, you can use things like boxplots and violin plots to show the distribution of variables, either by themselves or across categories.\n\nBox plots show the distribution of a variable by highlighting specific details, like the 25th, 50th (median) and 75th percentile, as well as the assumed minimum, assumed maximum, and outliers:\n\n![Anatomy of a boxplot](/slides/06-slides_files/figure-html/boxplot-explanation-1.png)\n\nWhen making boxplots with ggplot, you need to map the variable of interest to the `x` aesthetic (or `y` if you want a vertical boxplot), and you can optionally map a second categorical variable to the `y` aesthetic (or `x` if you want a vertical boxplot).\n\nYou can adjust the fill and color of the plot, and you can change what counts as outliers with the `coef` argument. By default outliers are any point that is beyond the 75th percentile + 1.5 × the interquartile range (or below the 25th percentile + 1.5 × IQR), but that's adjustable.\n\n::: {.callout-important}\n### Your turn\n\nDo the following:\n\n1. Fill the boxplot with <span style=\"color: #E6AD3C\">#E6AD3C</span>\n2. Color the boxplot with <span style=\"color: #5ABD51\">#5ABD51</span>\n3. Change the definition of outliers to be 5 times the IQR\n\n:::\n\n```{r echo=FALSE, results=\"asis\"}\nembedded_learnr(\n  url = \"https://andrewheiss.shinyapps.io/datavizm20_06-uncertainty-8/\",\n  id = \"learnr-06-lesson-uncertainty8\"\n)\n```\n\nYou can also use violin plots instead of boxplot, which show the mirrored density distribution. When doing this, it's often helpful to add other geoms like jittered points to show more of the data\n\n::: {.callout-important}\n### Your turn\n\nDo the following\n\n1. Change this boxplot to use violins instead\n2. Add jittered points with a jittering width of 0.1 and sized at 0.5\n\n:::\n\n```{r echo=FALSE, results=\"asis\"}\nembedded_learnr(\n  url = \"https://andrewheiss.shinyapps.io/datavizm20_06-uncertainty-9/\",\n  id = \"learnr-06-lesson-uncertainty9\"\n)\n```\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":"auto","echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"knitr"},"render":{"keep-tex":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true,"format-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","toc":true,"highlight-style":"monokai","filters":["../filters/format_date_end.lua"],"output-file":"06-lesson.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.3.450","bibliography":["../files/bib/readings.bib"],"csl":"../files/bib/chicago-author-date.csl","_quarto-vars":{"author":"Andrew Heiss","instructor":{"name":"Dr. Andrew Heiss","name_no_title":"Andrew Heiss","email":"aheiss@gsu.edu","url":"https://www.andrewheiss.com","twitter":"andrewheiss","github":"andrewheiss","office":"55 Park Place SE, Room 464","contact_policy":"E-mail and Slack are the best ways to get in contact with me. I will try to respond to all course-related e-mails and Slack messages within 24 hours (*really*), but also remember that life can be busy and chaotic for everyone (including me!), so if I don't respond right away, don't worry!","appointment_url":"https://calendly.com/andrewheiss/"},"course":{"number":"PMAP 8551/4551","semester":"Fall 2023","days":"Any day","time":"Asynchronous","location":"Anywhere","dates":"August 12–December 11, 2023","github":"https://www.github.com/andrewheiss/datavizf23.classes.andrewheiss.com","url":"https://datavizf23.classes.andrewheiss.com","copyright_year":"2023","slack":"https://gsudatavizf2023.slack.com"},"university":{"name":"Georgia State University","url":"https://www.gsu.edu"},"school":{"name":"Andrew Young School of Policy Studies","url":"https://aysps.gsu.edu/"}},"theme":["litera","../html/custom.scss"],"date-heading":{"content":"Lesson for","class":"bg-lesson"},"date-format":"full","template-partials":["../html/title-block.html"],"title":"Uncertainty","date":"2023-09-25","date_end":"2023-09-29"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}